---
title: 早早聊 02 期 前端搞基建
urlname: xaf03z
date: 2020-08-19 21:25:18 +0800
tags: []
categories: []
---

> 2020.02.29

## 小爝 - 推动基础架构项目落地

### 基建团队

人：能折腾，善于总结和分享，知道什么是好代码，有抽象能力，时刻关注新鲜技术。即使工作多年依旧保持折腾的心态。

事：基础 SDK（埋点、性能、错误统计等），工程化（打包上线、自动化测试、代码审查、脚手架等），内部使用的后台系统，新技术，新工具，组件开发，架构设计，性能优化等。

技能：语言不设限，领域不设限。

### 项目落地

> 脸皮厚/勤耕政策/轮岗/奉献精神/同理心

**监控系统**

1. 错误监控主要依赖于 `window.onerror`、全局的 `promise` 异常捕获
1. 利用 AOP 来把一些原生类进行包装加 `try...catch` 等不同的技术手段
1. 性能监控之 lighthouse、seeppage。
1. 异步组件、SPA 路由切换等性能监控。
1. 监控体系：sentry、badjs、fundebug、oneapm

## 堂主 - 推动团队的基建

### 基建的意义

> 基建最核心的价值是帮助业务更好的活在未来。

- 解决问题：帮助解决业务问题。
- 团队练兵：提供不同维度的业务场景。
- 梯队建设
- 影响力建设

### 基建研发流程

![image.png](https://cdn.nlark.com/yuque/0/2020/png/84971/1597907392785-78c7d275-c3c7-458d-96f4-613775271142.png#align=left&display=inline&height=1318&margin=%5Bobject%20Object%5D&name=image.png&originHeight=2636&originWidth=4551&size=721788&status=done&style=none&width=2275.5)

### 基建如何搞

1. 规范 & 文档（Docs）
1. 本地工程化环境（CLI）
1. 可视化工程系统（GUI） 选型、脚手架、功能点、自动化差异的抹平
1. 组件开发与管理
1. 模块开发与管理
1. 项目创建与管理
1. 前端基础资产
1. 其它：CI/CD、可视化搭建系统、数据埋点、页面性能自动化分析

## 答疑及总结

见世界见自我。

大体方向上基建的范围都差不多，一个人做这些肯定是吃力的，我希望以后有机会可以去一个比较大一点的团队亲自去尝试基建或者使用已经比较完善的基建项目。

### 基建立项

- 基建的必要：列出业务痛点，如何解决
- 基建的量化：用数据来展示实际提效情况
- 基建的实施：列出要做的事，任务落定到具体人，建立里程碑
- 基建的价值：通过基建前后对比说明性能提升、节约成本、流程优化、开发、构建、部署和可视化工程化、合理化、团队整体技能提升和品牌影响力

### 基建工作

**代码层面**

- 命名规范：文件名、文件夹名、变量名等
- 文件拆包：代码行数不超过 500 行，每行不超过 100 个字符等
- 代码规范：eslint、tslint、prettier 等
- 引入依赖：版本号管理、大图片以外链形式引入、同功能不重复引入等
- 相关测试：单元测试、UI 测试、自动化测试、压测等

**开发发版**

- 技术栈：框架、组件库
- CI/CD 流程：git flow 相关规范、commit 规则、分支管理等
- 编辑器插件

**统计监控**

- 数据采集、埋点设计
- 性能分析
- 错误日志
- 安全监测：端异常回溯、XSS/CSRF 安全攻击
- 可视化搭建

**文档服务**

- 编码规范、命名规范、Git 规范、流程规范、性能规范、数据规范、埋点规范、安全规范
- 组件规范、工程规范、开源规范、文档规范、
- 业务文档、技术文档、分享沉淀文档、新人文档

### 名词解释

BFF：Backend For Fronted，即服务于前端的后端。是一种理念，做前后端之间的中间件，减少前端的改动。

AOP：Aspect Oriented Programming，即面向切面编程，是函数式编程的一种衍生范型。
