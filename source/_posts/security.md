---
layout: post
title: 前端安全
date: 2017-04-12 14:40:45
author: Vanny
categories: Web
tags: Web
excerpt: 谈谈自己对XSS和CSRF的理解。
---

- content
  {:toc}

## CSRF

### 介绍

CSRF(Cross-site Request Forgery)，跨站请求伪造。是一种对网站的恶意利用。攻击者可以盗用用户的身份发送恶意请求如发送邮件、发送消息、购买商品等，造成个人隐私泄露以及财产安全。

### 原理

登陆收信人的网站 A，并且在本地生成 cookie，在不退出 A 网站的情况下访问网站 B。

### 防范

1.合理使用 post 与 get，提交业务尽量使用 post 请求。  
2.添加验证码 用户每次提交都要在表单中填写图片上一个随机的字符串。  
3.添加一个隐藏的输入框，包含 token，服务器端验证是否匹配。  
4.使用 HTTP refer 头部进行判断，对非业务域名发起的 HTTP 请求过滤。

## XSS

### 介绍

XSS(Cross-site Scripting)，跨站脚本攻击。是一种网站应用程序的安全漏洞攻击，属于代码注入的一种。

### 原理

恶意攻击者在 Web 页面里插入恶意的 JavaScript 代码，当用户浏览该页之时，嵌入其中 Web 里面的 JavaScript 代码会被执行，从而达到恶意攻击用户的目的。

### 防范

1.将前端输出数据进行转义。  
2.将输出的字符串中的`\`进行转义。  
3.不要拿 URL 中的参数 eval。  
4.在使用 cookie 使添加 HttpOnly 属性。

## 总结

1.开发时要尽量对用户输入的信息进行层层检测。  
2.要注意对用户的输出内容进行过滤(进行转义等)。 3.重要的内容要加密传输(最好用 https，也可自己加密)。 4.使用 get 请求与 post 请求时要严格遵守规范，不要混用，不要将一些危险的提交使用 jsonp 完成。 5.对于 URL 上携带的信息，要谨慎使用。
